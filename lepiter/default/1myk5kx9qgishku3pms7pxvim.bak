{
	"__schema" : "4.1",
	"__type" : "page",
	"uid" : {
		"__type" : "uuid",
		"uuid" : "ce9277b6-11d5-0d00-b8a9-af0707fea91b"
	},
	"pageType" : {
		"__type" : "namedPage",
		"title" : "GitHub Actions"
	},
	"children" : {
		"__type" : "snippets",
		"items" : [
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-18T02:07:02.005184+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-18T03:11:28.417172+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "3zEyqRLVDQCIcufRB/6pGw=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "There- seems to be [some pretty good documentation on the Pharo wiki](https://github.com/pharo-open-documentation/pharo-wiki/blob/master/General/GithubActions.md) detailing how to set this up."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [
									{
										"__type" : "textSnippet",
										"children" : {
											"__type" : "snippets",
											"items" : [ ]
										},
										"createEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"createTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T01:01:44.619787+00:00"
											}
										},
										"editEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"editTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T01:35:25.535163+00:00"
											}
										},
										"uid" : {
											"__type" : "uid",
											"uidString" : "8qhBvxHVDQC/YZ0GB/6pGw=="
										},
										"paragraphStyle" : {
											"__type" : "textStyle"
										},
										"string" : "The simplest way is probably just to include a step that runs a well-known command that produces interesting output. For example:\n```\n- name: What files are up there?!\n  run: ls\n```"
									},
									{
										"__type" : "textSnippet",
										"children" : {
											"__type" : "snippets",
											"items" : [ ]
										},
										"createEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"createTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T03:00:44.031693+00:00"
											}
										},
										"editEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"editTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T03:04:09.443017+00:00"
											}
										},
										"uid" : {
											"__type" : "uid",
											"uidString" : "PWY+aRPVDQCYSJyCBtkRlg=="
										},
										"paragraphStyle" : {
											"__type" : "textStyle"
										},
										"string" : "But the gold standard seems to be [tmate](https://tmate.io), which let's you ssh into the running CI server! You just add a step like this:\n```\n- name: Setup tmate session\n  uses: mxschmitt/action-tmate@v3\n```\nWhen the step is run, check the output for a command that you can copy/paste into a local terminal to make the connection. It will look something like this: \n`ssh GSvE5PGwZkU33j9jwCGr3vzd9@nyc1.tmate.io`"
									}
								]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T00:59:38.678723+00:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-07-14T17:16:10.592845+00:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "KeUxuBHVDQC44/Z0B/6pGw=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "It can be frustrating to debug GitHub actions because it feels like you can't \"get your hands on\" the files or even really see what's going on other than logging messages. It can be especially painful to a new user, to whom it all may seem like unintelligible magic. Luckily, like other remote systems, there are ways to break through the glass."
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-18T00:59:27.304698+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-18T00:59:37.297027+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "E2CEtxHVDQC4qviXB/6pGw=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "# Debugging"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [
									{
										"__type" : "textSnippet",
										"children" : {
											"__type" : "snippets",
											"items" : [ ]
										},
										"createEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"createTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T03:05:21.959552+00:00"
											}
										},
										"editEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"editTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T03:05:46.197537+00:00"
											}
										},
										"uid" : {
											"__type" : "uid",
											"uidString" : "3j/PeRPVDQCg1IyfBtkRlg=="
										},
										"paragraphStyle" : {
											"__type" : "textStyle"
										},
										"string" : "1. The process is glacial compared to the fast feedback loop Smalltalkers are used to"
									},
									{
										"__type" : "textSnippet",
										"children" : {
											"__type" : "snippets",
											"items" : [ ]
										},
										"createEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"createTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T03:05:46.51156+00:00"
											}
										},
										"editEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"editTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2024-05-18T03:06:27.810343+00:00"
											}
										},
										"uid" : {
											"__type" : "uid",
											"uidString" : "Ct1FexPVDQCjLnz+BtkRlg=="
										},
										"paragraphStyle" : {
											"__type" : "textStyle"
										},
										"string" : "2. Pushing commits and tags just to test your CI can create lots of noise in your repo"
									}
								]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:05:01.402828+00:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:05:21.42106+00:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "FW0xeBPVDQCfTMqPBtkRlg=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "There are downsides to the approaches above:"
						},
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:06:28.887398+00:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:09:00.842521+00:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "CHrMfRPVDQCl6SdrBtkRlg=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "A good guideline, then, is to do most of the work where you can develop and test easily (e.g. in the image or a shell script saved in your repo) and then use a bit of glue to invoke that from a GH action (like with the `run: ls` step above."
						},
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:10:17.902127+00:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:11:56.0419+00:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "+fZyixPVDQCwfd+iBtkRlg=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "The Pharo wiki page linked above, while stellar in most respects, illustrates the anti-pattern like this:\n```\nrun: |\n          mv /home/runner/.smalltalkCI/_builds/* .\n          mv TravisCI.image $PROJECT_NAME.image\n          mv TravisCI.changes $PROJECT_NAME.changes\n          #...\n```"
						},
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:12:01.66674+00:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-18T03:13:03.642196+00:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "iEmikRPVDQCGa6HuD7VS0w=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "While it's nice to see everything in one place, any time the script has to be tweaked slightly, it could mean several commits to get right, as the only way to verify the change is correct is to run the workflow."
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-18T03:04:41.689607+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-18T03:04:50.880606+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "esVodxPVDQCe0vJQBtkRlg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "# Defensive Programming"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-07-14T17:22:38.966211+00:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-07-14T17:30:40.762943+00:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "9wumGJrZDQCzgA1bBi84EQ=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "Everything we've talked about so far is illustrated in the CI workflow of this project itself, which was lightweight enough to have a nice short build time as the kinks were worked out. We have a reasonable phase one implementation that creates [a \"continuous\" tagged release](https://github.com/seandenigris/Pharo-Enhancements/releases/tag/continuous) on each commit, with the image, changes, etc. zipped along with the release. At only twelve short lines, [the top level workflow](https://github.com/seandenigris/Pharo-Enhancements/blob/master/.github/workflows/ci.yaml) is fairly simple, and the best part is that it's easy to adapt for your own project. That's because it utilizes [this reuseable workflow](https://github.com/seandenigris/Pharo-Enhancements/blob/master/.github/workflows/ci_reusable.yaml), which was adapted from the recommendations of the Pharo wiki mentioned above, as well as a few external workflows credited in the header. As suggested above, it delegates the real packaging work to  [this shell script](https://github.com/seandenigris/Pharo-Enhancements/blob/master/scripts/prepare_release.sh).\n\nThis will get us started until we need semantic version releases, which shouldn't be too hard to modify (famous last words ha ha)."
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-19T04:42:37.031796+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-19T04:42:39.573278+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "68By8yjVDQC/qWzKAQGz7Q=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "# Examples"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-30T04:04:46.304064+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-30T04:04:54.507926+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "JvJvUXXYDQCSNL8BAHwy+Q=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "# Security"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-07-14T17:34:56.261046+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-07-14T17:45:56.428845+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "3kSYRJrZDQCCxHNLBi84EQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "If your project depends on other Smalltalk projects in private repos - even from the same user - it can be a bit tricky to securely access them. The best way seems to to add a CI [[GitHub machine user]] as a read-only collaborator ."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-07-14T17:33:19.896668+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-07-14T17:39:38.365987+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "At7ZPprZDQCCaR+7Bi84EQ=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "To be truly secure, the private repos must be owned by an organization, because you can't add read-only collaborators to personal repos. Thus, personal repos would have to give the machine user, which must have a passphraseless SSH key, full access. Once the machine user is a collaborator, you add their SSH key as a \"repository secret\" (in repository settings, \"Security\" -> \"Secrets and variables\" -> \"Actions\"). "
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-30T04:05:18.267472+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-07-14T17:33:19.906576+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "96pXU3XYDQCSbE11AHwy+Q=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "Then the SSH key stored as a secret can be added to the ssh-agent in the CI workflow ([see example here](https://github.com/seandenigris/Pharo-Enhancements/blob/e0cdfd64d20bbbf21097ab09e2b10050e5204600/.github/workflows/ci_reusable.yaml#L51))"
			},
			{
				"__type" : "pictureSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-07-14T17:33:23.50754+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-07-14T17:34:17.696506+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "/PsQP5rZDQCCcD+yBi84EQ=="
				},
				"url" : "attachments/10p6pwxnauqkf6ctjxkj0wd9d/Screenshot 2024-07-14 at 1.33.36â€¯PM.png",
				"caption" : "",
				"previewHeight" : 300
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-19T01:50:58.874217+00:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2024-05-19T01:56:57.769847+00:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "jtB/jSbVDQC3AlzoAQGz7Q=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "It seems ([per SO](https://stackoverflow.com/questions/58465057/trigger-a-github-action-when-another-repository-creates-a-new-release)) that the common approaches are: 1) push notification from the dependency or 2) poll with cron. Number 1 doesn't seem worth the maintenance because the dependency would have to keep track of every project that depended on it and number 2 seems a bit hacky."
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-05-19T01:50:40.386928+00:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-30T04:04:50.050735+00:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "tT+HjCbVDQC2YtKeAQGz7Q=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "# Triggering from Dependencies"
			}
		]
	},
	"createEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"createTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2024-05-18T00:59:27.304671+00:00"
		}
	},
	"editEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"editTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2024-05-18T00:59:27.304671+00:00"
		}
	}
}